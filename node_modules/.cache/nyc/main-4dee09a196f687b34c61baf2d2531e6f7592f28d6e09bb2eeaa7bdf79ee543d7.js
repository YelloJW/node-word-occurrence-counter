function cov_24ty651vkq(){var path="/home/yellojw/code/YelloJW/node-word-occurrence-counter/public/javascripts/main.js";var hash="a3be046b1bbf24b520995c4b45d0dd49594a45fd";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/yellojw/code/YelloJW/node-word-occurrence-counter/public/javascripts/main.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:35}},"1":{start:{line:2,column:22},end:{line:2,column:24}},"2":{start:{line:5,column:23},end:{line:12,column:1}},"3":{start:{line:6,column:2},end:{line:11,column:5}},"4":{start:{line:7,column:2},end:{line:10,column:3}},"5":{start:{line:8,column:4},end:{line:8,column:25}},"6":{start:{line:9,column:4},end:{line:9,column:120}},"7":{start:{line:15,column:20},end:{line:18,column:1}},"8":{start:{line:16,column:2},end:{line:16,column:48}},"9":{start:{line:17,column:2},end:{line:17,column:23}},"10":{start:{line:21,column:19},end:{line:29,column:1}},"11":{start:{line:22,column:20},end:{line:22,column:22}},"12":{start:{line:23,column:2},end:{line:27,column:5}},"13":{start:{line:24,column:4},end:{line:26,column:5}},"14":{start:{line:25,column:4},end:{line:25,column:65}},"15":{start:{line:28,column:2},end:{line:28,column:19}},"16":{start:{line:32,column:17},end:{line:45,column:1}},"17":{start:{line:33,column:3},end:{line:44,column:6}},"18":{start:{line:35,column:8},end:{line:35,column:26}},"19":{start:{line:37,column:23},end:{line:37,column:55}},"20":{start:{line:38,column:8},end:{line:38,column:47}},"21":{start:{line:40,column:8},end:{line:40,column:37}},"22":{start:{line:42,column:8},end:{line:42,column:49}},"23":{start:{line:43,column:8},end:{line:43,column:151}},"24":{start:{line:47,column:0},end:{line:47,column:28}},"25":{start:{line:48,column:0},end:{line:48,column:32}},"26":{start:{line:49,column:0},end:{line:49,column:34}},"27":{start:{line:50,column:0},end:{line:50,column:40}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:23},end:{line:5,column:24}},loc:{start:{line:5,column:43},end:{line:12,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:24},end:{line:6,column:25}},loc:{start:{line:6,column:36},end:{line:11,column:3}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:20},end:{line:15,column:21}},loc:{start:{line:15,column:49},end:{line:18,column:1}},line:15},"3":{name:"(anonymous_3)",decl:{start:{line:21,column:19},end:{line:21,column:20}},loc:{start:{line:21,column:34},end:{line:29,column:1}},line:21},"4":{name:"(anonymous_4)",decl:{start:{line:23,column:20},end:{line:23,column:21}},loc:{start:{line:23,column:30},end:{line:27,column:3}},line:23},"5":{name:"(anonymous_5)",decl:{start:{line:32,column:17},end:{line:32,column:18}},loc:{start:{line:32,column:43},end:{line:45,column:1}},line:32},"6":{name:"(anonymous_6)",decl:{start:{line:34,column:10},end:{line:34,column:11}},loc:{start:{line:34,column:19},end:{line:36,column:5}},line:34},"7":{name:"(anonymous_7)",decl:{start:{line:36,column:12},end:{line:36,column:13}},loc:{start:{line:36,column:22},end:{line:39,column:5}},line:36},"8":{name:"(anonymous_8)",decl:{start:{line:39,column:12},end:{line:39,column:13}},loc:{start:{line:39,column:27},end:{line:41,column:5}},line:39},"9":{name:"(anonymous_9)",decl:{start:{line:41,column:12},end:{line:41,column:13}},loc:{start:{line:41,column:27},end:{line:44,column:5}},line:41}},branchMap:{"0":{loc:{start:{line:7,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:7,column:2},end:{line:10,column:3}},{start:{line:7,column:2},end:{line:10,column:3}}],line:7},"1":{loc:{start:{line:24,column:4},end:{line:26,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:26,column:5}},{start:{line:24,column:4},end:{line:26,column:5}}],line:24},"2":{loc:{start:{line:25,column:22},end:{line:25,column:64}},type:"cond-expr",locations:[{start:{line:25,column:40},end:{line:25,column:60}},{start:{line:25,column:63},end:{line:25,column:64}}],line:25}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a3be046b1bbf24b520995c4b45d0dd49594a45fd"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_24ty651vkq=function(){return actualCoverage;};return actualCoverage;}const fetch=(cov_24ty651vkq().s[0]++,require('node-fetch'));const previous_urls=(cov_24ty651vkq().s[1]++,[]);//function to return word counts for previously saved urls
cov_24ty651vkq().s[2]++;const getSavedRecord=(res,saved_url)=>{cov_24ty651vkq().f[0]++;cov_24ty651vkq().s[3]++;previous_urls.forEach(record=>{cov_24ty651vkq().f[1]++;cov_24ty651vkq().s[4]++;if(record[0]===saved_url){cov_24ty651vkq().b[0][0]++;cov_24ty651vkq().s[5]++;wordCount=record[1];cov_24ty651vkq().s[6]++;res.render('index',{title:'Word Occurrence Counter',url:saved_url,results:wordCount,history:previous_urls});}else{cov_24ty651vkq().b[0][1]++;}});};// function to save urls input by user and associated word counts
cov_24ty651vkq().s[7]++;const userHistory=(input_url,wordCountArr)=>{cov_24ty651vkq().f[2]++;cov_24ty651vkq().s[8]++;previous_urls.push([input_url,wordCountArr]);cov_24ty651vkq().s[9]++;return previous_urls;};// function to count occurrences of words in an array
cov_24ty651vkq().s[10]++;const countWords=wordArray=>{cov_24ty651vkq().f[3]++;const wordCount=(cov_24ty651vkq().s[11]++,{});cov_24ty651vkq().s[12]++;wordArray.forEach(word=>{cov_24ty651vkq().f[4]++;cov_24ty651vkq().s[13]++;if(word!==''){cov_24ty651vkq().b[1][0]++;cov_24ty651vkq().s[14]++;wordCount[word]=wordCount[word]?(cov_24ty651vkq().b[2][0]++,wordCount[word]+=1):(cov_24ty651vkq().b[2][1]++,1);}else{cov_24ty651vkq().b[1][1]++;}});cov_24ty651vkq().s[15]++;return wordCount;};// function to return string from URL DOM, call countWords function and render results in home page
cov_24ty651vkq().s[16]++;const getWords=async(res,input_url)=>{cov_24ty651vkq().f[5]++;cov_24ty651vkq().s[17]++;await fetch(input_url).then(res=>{cov_24ty651vkq().f[6]++;cov_24ty651vkq().s[18]++;return res.text();}).then(body=>{cov_24ty651vkq().f[7]++;const string=(cov_24ty651vkq().s[19]++,body.replace(/[^a-zA-Z ]/g,' '));cov_24ty651vkq().s[20]++;return string.toLowerCase().split(' ');}).then(wordArray=>{cov_24ty651vkq().f[8]++;cov_24ty651vkq().s[21]++;return countWords(wordArray);}).then(wordCount=>{cov_24ty651vkq().f[9]++;cov_24ty651vkq().s[22]++;wordCountArr=Object.entries(wordCount);cov_24ty651vkq().s[23]++;res.render('index',{title:'Word Occurrence Counter',url:input_url,results:wordCountArr,history:userHistory(input_url,wordCountArr)});});};cov_24ty651vkq().s[24]++;exports.getWords=getWords;cov_24ty651vkq().s[25]++;exports.countWords=countWords;cov_24ty651vkq().s[26]++;exports.userHistory=userHistory;cov_24ty651vkq().s[27]++;exports.getSavedRecord=getSavedRecord;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZmV0Y2giLCJyZXF1aXJlIiwicHJldmlvdXNfdXJscyIsImdldFNhdmVkUmVjb3JkIiwicmVzIiwic2F2ZWRfdXJsIiwiZm9yRWFjaCIsInJlY29yZCIsIndvcmRDb3VudCIsInJlbmRlciIsInRpdGxlIiwidXJsIiwicmVzdWx0cyIsImhpc3RvcnkiLCJ1c2VySGlzdG9yeSIsImlucHV0X3VybCIsIndvcmRDb3VudEFyciIsInB1c2giLCJjb3VudFdvcmRzIiwid29yZEFycmF5Iiwid29yZCIsImdldFdvcmRzIiwidGhlbiIsInRleHQiLCJib2R5Iiwic3RyaW5nIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwic3BsaXQiLCJPYmplY3QiLCJlbnRyaWVzIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IisrSUFBQSxLQUFNQSxDQUFBQSxLQUFLLDBCQUFHQyxPQUFPLENBQUMsWUFBRCxDQUFWLENBQVgsQ0FDQSxLQUFNQyxDQUFBQSxhQUFhLDBCQUFHLEVBQUgsQ0FBbkIsQ0FFQTt3QkFDQSxLQUFNQyxDQUFBQSxjQUFjLENBQUcsQ0FBQ0MsR0FBRCxDQUFNQyxTQUFOLEdBQW9CLGlEQUN6Q0gsYUFBYSxDQUFDSSxPQUFkLENBQXVCQyxNQUFELEVBQVksaURBQ2xDLEdBQUdBLE1BQU0sQ0FBQyxDQUFELENBQU4sR0FBY0YsU0FBakIsQ0FBMkIsb0RBQ3pCRyxTQUFTLENBQUdELE1BQU0sQ0FBQyxDQUFELENBQWxCLENBRHlCLHdCQUV6QkgsR0FBRyxDQUFDSyxNQUFKLENBQVcsT0FBWCxDQUFvQixDQUFDQyxLQUFLLENBQUUseUJBQVIsQ0FBbUNDLEdBQUcsQ0FBRU4sU0FBeEMsQ0FBbURPLE9BQU8sQ0FBRUosU0FBNUQsQ0FBdUVLLE9BQU8sQ0FBRVgsYUFBaEYsQ0FBcEIsRUFDRCxDQUhELGlDQUlDLENBTEQsRUFNRCxDQVBELENBU0E7d0JBQ0EsS0FBTVksQ0FBQUEsV0FBVyxDQUFHLENBQUNDLFNBQUQsQ0FBWUMsWUFBWixHQUE2QixpREFDL0NkLGFBQWEsQ0FBQ2UsSUFBZCxDQUFtQixDQUFDRixTQUFELENBQVlDLFlBQVosQ0FBbkIsRUFEK0Msd0JBRS9DLE1BQU9kLENBQUFBLGFBQVAsQ0FDRCxDQUhELENBS0E7eUJBQ0EsS0FBTWdCLENBQUFBLFVBQVUsQ0FBSUMsU0FBRCxFQUFlLHlCQUNoQyxLQUFNWCxDQUFBQSxTQUFTLDJCQUFHLEVBQUgsQ0FBZixDQURnQyx5QkFFaENXLFNBQVMsQ0FBQ2IsT0FBVixDQUFtQmMsSUFBRCxFQUFVLGtEQUMxQixHQUFJQSxJQUFJLEdBQUssRUFBYixDQUFpQixxREFDakJaLFNBQVMsQ0FBQ1ksSUFBRCxDQUFULENBQWtCWixTQUFTLENBQUNZLElBQUQsQ0FBVCw2QkFBa0JaLFNBQVMsQ0FBQ1ksSUFBRCxDQUFULEVBQW1CLENBQXJDLDhCQUF5QyxDQUF6QyxDQUFsQixDQUNDLENBRkQsaUNBR0QsQ0FKRCxFQUZnQyx5QkFPaEMsTUFBT1osQ0FBQUEsU0FBUCxDQUNELENBUkQsQ0FVQTt5QkFDQSxLQUFNYSxDQUFBQSxRQUFRLENBQUcsTUFBT2pCLEdBQVAsQ0FBWVcsU0FBWixHQUEwQixrREFDeEMsS0FBTWYsQ0FBQUEsS0FBSyxDQUFDZSxTQUFELENBQUwsQ0FDSk8sSUFESSxDQUNFbEIsR0FBRCxFQUFTLGtEQUNYLE1BQU9BLENBQUFBLEdBQUcsQ0FBQ21CLElBQUosRUFBUCxDQUNILENBSEksRUFHRkQsSUFIRSxDQUdJRSxJQUFELEVBQVUseUJBQ2QsS0FBTUMsQ0FBQUEsTUFBTSwyQkFBR0QsSUFBSSxDQUFDRSxPQUFMLENBQWEsYUFBYixDQUE0QixHQUE1QixDQUFILENBQVosQ0FEYyx5QkFFZCxNQUFPRCxDQUFBQSxNQUFNLENBQUNFLFdBQVAsR0FBcUJDLEtBQXJCLENBQTJCLEdBQTNCLENBQVAsQ0FDSCxDQU5JLEVBTUZOLElBTkUsQ0FNSUgsU0FBRCxFQUFlLGtEQUNuQixNQUFPRCxDQUFBQSxVQUFVLENBQUNDLFNBQUQsQ0FBakIsQ0FDSCxDQVJJLEVBUUZHLElBUkUsQ0FRSWQsU0FBRCxFQUFlLGtEQUNuQlEsWUFBWSxDQUFHYSxNQUFNLENBQUNDLE9BQVAsQ0FBZXRCLFNBQWYsQ0FBZixDQURtQix5QkFFbkJKLEdBQUcsQ0FBQ0ssTUFBSixDQUFXLE9BQVgsQ0FBb0IsQ0FBQ0MsS0FBSyxDQUFFLHlCQUFSLENBQW1DQyxHQUFHLENBQUVJLFNBQXhDLENBQW1ESCxPQUFPLENBQUVJLFlBQTVELENBQTBFSCxPQUFPLENBQUVDLFdBQVcsQ0FBQ0MsU0FBRCxDQUFZQyxZQUFaLENBQTlGLENBQXBCLEVBQ0gsQ0FYSSxDQUFOLENBWUYsQ0FiRCxDLHlCQWVBZSxPQUFPLENBQUNWLFFBQVIsQ0FBbUJBLFFBQW5CLEMseUJBQ0FVLE9BQU8sQ0FBQ2IsVUFBUixDQUFxQkEsVUFBckIsQyx5QkFDQWEsT0FBTyxDQUFDakIsV0FBUixDQUFzQkEsV0FBdEIsQyx5QkFDQWlCLE9BQU8sQ0FBQzVCLGNBQVIsQ0FBeUJBLGNBQXpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7XG5jb25zdCBwcmV2aW91c191cmxzID0gW11cblxuLy9mdW5jdGlvbiB0byByZXR1cm4gd29yZCBjb3VudHMgZm9yIHByZXZpb3VzbHkgc2F2ZWQgdXJsc1xuY29uc3QgZ2V0U2F2ZWRSZWNvcmQgPSAocmVzLCBzYXZlZF91cmwpID0+IHtcbiAgcHJldmlvdXNfdXJscy5mb3JFYWNoKChyZWNvcmQpID0+IHtcbiAgaWYocmVjb3JkWzBdID09PSBzYXZlZF91cmwpe1xuICAgIHdvcmRDb3VudCA9IHJlY29yZFsxXVxuICAgIHJlcy5yZW5kZXIoJ2luZGV4Jywge3RpdGxlOiAnV29yZCBPY2N1cnJlbmNlIENvdW50ZXInLCB1cmw6IHNhdmVkX3VybCwgcmVzdWx0czogd29yZENvdW50LCBoaXN0b3J5OiBwcmV2aW91c191cmxzfSk7XG4gIH1cbiAgfSk7XG59XG5cbi8vIGZ1bmN0aW9uIHRvIHNhdmUgdXJscyBpbnB1dCBieSB1c2VyIGFuZCBhc3NvY2lhdGVkIHdvcmQgY291bnRzXG5jb25zdCB1c2VySGlzdG9yeSA9IChpbnB1dF91cmwsIHdvcmRDb3VudEFycikgPT4ge1xuICBwcmV2aW91c191cmxzLnB1c2goW2lucHV0X3VybCwgd29yZENvdW50QXJyXSk7XG4gIHJldHVybiBwcmV2aW91c191cmxzO1xufVxuXG4vLyBmdW5jdGlvbiB0byBjb3VudCBvY2N1cnJlbmNlcyBvZiB3b3JkcyBpbiBhbiBhcnJheVxuY29uc3QgY291bnRXb3JkcyA9ICh3b3JkQXJyYXkpID0+IHtcbiAgY29uc3Qgd29yZENvdW50ID0ge307XG4gIHdvcmRBcnJheS5mb3JFYWNoKCh3b3JkKSA9PiB7XG4gICAgaWYgKHdvcmQgIT09ICcnKSB7XG4gICAgd29yZENvdW50W3dvcmRdID0gd29yZENvdW50W3dvcmRdID8gd29yZENvdW50W3dvcmRdICs9IDEgOiAxO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB3b3JkQ291bnQ7XG59XG5cbi8vIGZ1bmN0aW9uIHRvIHJldHVybiBzdHJpbmcgZnJvbSBVUkwgRE9NLCBjYWxsIGNvdW50V29yZHMgZnVuY3Rpb24gYW5kIHJlbmRlciByZXN1bHRzIGluIGhvbWUgcGFnZVxuY29uc3QgZ2V0V29yZHMgPSBhc3luYyAocmVzLCBpbnB1dF91cmwpID0+IHtcbiAgIGF3YWl0IGZldGNoKGlucHV0X3VybClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiByZXMudGV4dCgpO1xuICAgIH0pLnRoZW4oKGJvZHkpID0+IHtcbiAgICAgICAgY29uc3Qgc3RyaW5nID0gYm9keS5yZXBsYWNlKC9bXmEtekEtWiBdL2csICcgJyk7XG4gICAgICAgIHJldHVybiBzdHJpbmcudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpO1xuICAgIH0pLnRoZW4oKHdvcmRBcnJheSkgPT4ge1xuICAgICAgICByZXR1cm4gY291bnRXb3Jkcyh3b3JkQXJyYXkpO1xuICAgIH0pLnRoZW4oKHdvcmRDb3VudCkgPT4ge1xuICAgICAgICB3b3JkQ291bnRBcnIgPSBPYmplY3QuZW50cmllcyh3b3JkQ291bnQpO1xuICAgICAgICByZXMucmVuZGVyKCdpbmRleCcsIHt0aXRsZTogJ1dvcmQgT2NjdXJyZW5jZSBDb3VudGVyJywgdXJsOiBpbnB1dF91cmwsIHJlc3VsdHM6IHdvcmRDb3VudEFyciwgaGlzdG9yeTogdXNlckhpc3RvcnkoaW5wdXRfdXJsLCB3b3JkQ291bnRBcnIpIH0pO1xuICAgIH0pXG59XG5cbmV4cG9ydHMuZ2V0V29yZHMgPSBnZXRXb3JkcztcbmV4cG9ydHMuY291bnRXb3JkcyA9IGNvdW50V29yZHM7XG5leHBvcnRzLnVzZXJIaXN0b3J5ID0gdXNlckhpc3Rvcnk7XG5leHBvcnRzLmdldFNhdmVkUmVjb3JkID0gZ2V0U2F2ZWRSZWNvcmQ7XG5cbiJdfQ==