function cov_24ty651vkq(){var path="/home/yellojw/code/YelloJW/node-word-occurrence-counter/public/javascripts/main.js";var hash="5bb03206eeb352fae33509e86d428932b3d69477";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/yellojw/code/YelloJW/node-word-occurrence-counter/public/javascripts/main.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:35}},"1":{start:{line:2,column:22},end:{line:2,column:24}},"2":{start:{line:13,column:23},end:{line:21,column:1}},"3":{start:{line:14,column:2},end:{line:20,column:5}},"4":{start:{line:15,column:4},end:{line:19,column:5}},"5":{start:{line:16,column:6},end:{line:16,column:23}},"6":{start:{line:17,column:6},end:{line:17,column:27}},"7":{start:{line:18,column:6},end:{line:18,column:130}},"8":{start:{line:24,column:20},end:{line:27,column:1}},"9":{start:{line:25,column:2},end:{line:25,column:48}},"10":{start:{line:26,column:2},end:{line:26,column:23}},"11":{start:{line:30,column:19},end:{line:38,column:1}},"12":{start:{line:31,column:20},end:{line:31,column:22}},"13":{start:{line:32,column:2},end:{line:36,column:5}},"14":{start:{line:33,column:4},end:{line:35,column:5}},"15":{start:{line:34,column:4},end:{line:34,column:65}},"16":{start:{line:37,column:2},end:{line:37,column:19}},"17":{start:{line:41,column:17},end:{line:54,column:1}},"18":{start:{line:42,column:3},end:{line:53,column:6}},"19":{start:{line:44,column:8},end:{line:44,column:26}},"20":{start:{line:46,column:23},end:{line:46,column:55}},"21":{start:{line:47,column:8},end:{line:47,column:47}},"22":{start:{line:49,column:8},end:{line:49,column:37}},"23":{start:{line:51,column:8},end:{line:51,column:49}},"24":{start:{line:52,column:8},end:{line:52,column:159}},"25":{start:{line:57,column:0},end:{line:57,column:28}},"26":{start:{line:58,column:0},end:{line:58,column:32}},"27":{start:{line:59,column:0},end:{line:59,column:34}},"28":{start:{line:60,column:0},end:{line:60,column:40}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:13,column:23},end:{line:13,column:24}},loc:{start:{line:13,column:43},end:{line:21,column:1}},line:13},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:24},end:{line:14,column:25}},loc:{start:{line:14,column:36},end:{line:20,column:3}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:20},end:{line:24,column:21}},loc:{start:{line:24,column:49},end:{line:27,column:1}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:30,column:19},end:{line:30,column:20}},loc:{start:{line:30,column:34},end:{line:38,column:1}},line:30},"4":{name:"(anonymous_4)",decl:{start:{line:32,column:20},end:{line:32,column:21}},loc:{start:{line:32,column:30},end:{line:36,column:3}},line:32},"5":{name:"(anonymous_5)",decl:{start:{line:41,column:17},end:{line:41,column:18}},loc:{start:{line:41,column:43},end:{line:54,column:1}},line:41},"6":{name:"(anonymous_6)",decl:{start:{line:43,column:10},end:{line:43,column:11}},loc:{start:{line:43,column:19},end:{line:45,column:5}},line:43},"7":{name:"(anonymous_7)",decl:{start:{line:45,column:12},end:{line:45,column:13}},loc:{start:{line:45,column:22},end:{line:48,column:5}},line:45},"8":{name:"(anonymous_8)",decl:{start:{line:48,column:12},end:{line:48,column:13}},loc:{start:{line:48,column:27},end:{line:50,column:5}},line:48},"9":{name:"(anonymous_9)",decl:{start:{line:50,column:12},end:{line:50,column:13}},loc:{start:{line:50,column:27},end:{line:53,column:5}},line:50}},branchMap:{"0":{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:15,column:4},end:{line:19,column:5}}],line:15},"1":{loc:{start:{line:33,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:35,column:5}},{start:{line:33,column:4},end:{line:35,column:5}}],line:33},"2":{loc:{start:{line:34,column:22},end:{line:34,column:64}},type:"cond-expr",locations:[{start:{line:34,column:40},end:{line:34,column:60}},{start:{line:34,column:63},end:{line:34,column:64}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5bb03206eeb352fae33509e86d428932b3d69477"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_24ty651vkq=function(){return actualCoverage;};return actualCoverage;}const fetch=(cov_24ty651vkq().s[0]++,require('node-fetch'));const previous_urls=(cov_24ty651vkq().s[1]++,[]);// const sortWords = (wordCountArr) => {
//  wordCountArr.sort(function Comparator(a, b) {
//    if (a[1] < b[1]) return -1;
//    if (a[1] > b[1]) return 1;
//    return 0;
//  });
// }
//function to return word counts for previously saved urls
cov_24ty651vkq().s[2]++;const getSavedRecord=(res,saved_url)=>{cov_24ty651vkq().f[0]++;cov_24ty651vkq().s[3]++;previous_urls.forEach(record=>{cov_24ty651vkq().f[1]++;cov_24ty651vkq().s[4]++;if(record[0]===saved_url){cov_24ty651vkq().b[0][0]++;cov_24ty651vkq().s[5]++;console.log(true);cov_24ty651vkq().s[6]++;wordCount=record[1];cov_24ty651vkq().s[7]++;res.render('index',{title:'Word Occurrence Counter',input_url:saved_url,wordCount:wordCount,history:previous_urls});}else{cov_24ty651vkq().b[0][1]++;}});};// function to save urls input by user and associated word counts
cov_24ty651vkq().s[8]++;const userHistory=(input_url,wordCountArr)=>{cov_24ty651vkq().f[2]++;cov_24ty651vkq().s[9]++;previous_urls.push([input_url,wordCountArr]);cov_24ty651vkq().s[10]++;return previous_urls;};// function to count occurrences of words in an array
cov_24ty651vkq().s[11]++;const countWords=wordArray=>{cov_24ty651vkq().f[3]++;const wordCount=(cov_24ty651vkq().s[12]++,{});cov_24ty651vkq().s[13]++;wordArray.forEach(word=>{cov_24ty651vkq().f[4]++;cov_24ty651vkq().s[14]++;if(word!==''){cov_24ty651vkq().b[1][0]++;cov_24ty651vkq().s[15]++;wordCount[word]=wordCount[word]?(cov_24ty651vkq().b[2][0]++,wordCount[word]+=1):(cov_24ty651vkq().b[2][1]++,1);}else{cov_24ty651vkq().b[1][1]++;}});cov_24ty651vkq().s[16]++;return wordCount;};// function to return string from URL DOM, call countWords function and render results in home page
cov_24ty651vkq().s[17]++;const getWords=async(res,input_url)=>{cov_24ty651vkq().f[5]++;cov_24ty651vkq().s[18]++;await fetch(input_url).then(res=>{cov_24ty651vkq().f[6]++;cov_24ty651vkq().s[19]++;return res.text();}).then(body=>{cov_24ty651vkq().f[7]++;const string=(cov_24ty651vkq().s[20]++,body.replace(/[^a-zA-Z ]/g,' '));cov_24ty651vkq().s[21]++;return string.toLowerCase().split(' ');}).then(wordArray=>{cov_24ty651vkq().f[8]++;cov_24ty651vkq().s[22]++;return countWords(wordArray);}).then(wordCount=>{cov_24ty651vkq().f[9]++;cov_24ty651vkq().s[23]++;wordCountArr=Object.entries(wordCount);cov_24ty651vkq().s[24]++;res.render('index',{title:'Word Occurrence Counter',input_url:input_url,wordCount:wordCountArr,history:userHistory(input_url,wordCountArr)});});};cov_24ty651vkq().s[25]++;exports.getWords=getWords;cov_24ty651vkq().s[26]++;exports.countWords=countWords;cov_24ty651vkq().s[27]++;exports.userHistory=userHistory;cov_24ty651vkq().s[28]++;exports.getSavedRecord=getSavedRecord;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZmV0Y2giLCJyZXF1aXJlIiwicHJldmlvdXNfdXJscyIsImdldFNhdmVkUmVjb3JkIiwicmVzIiwic2F2ZWRfdXJsIiwiZm9yRWFjaCIsInJlY29yZCIsImNvbnNvbGUiLCJsb2ciLCJ3b3JkQ291bnQiLCJyZW5kZXIiLCJ0aXRsZSIsImlucHV0X3VybCIsImhpc3RvcnkiLCJ1c2VySGlzdG9yeSIsIndvcmRDb3VudEFyciIsInB1c2giLCJjb3VudFdvcmRzIiwid29yZEFycmF5Iiwid29yZCIsImdldFdvcmRzIiwidGhlbiIsInRleHQiLCJib2R5Iiwic3RyaW5nIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwic3BsaXQiLCJPYmplY3QiLCJlbnRyaWVzIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6ImlrSkFBQSxLQUFNQSxDQUFBQSxLQUFLLDBCQUFHQyxPQUFPLENBQUMsWUFBRCxDQUFWLENBQVgsQ0FDQSxLQUFNQyxDQUFBQSxhQUFhLDBCQUFHLEVBQUgsQ0FBbkIsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO3dCQUNBLEtBQU1DLENBQUFBLGNBQWMsQ0FBRyxDQUFDQyxHQUFELENBQU1DLFNBQU4sR0FBb0IsaURBQ3pDSCxhQUFhLENBQUNJLE9BQWQsQ0FBdUJDLE1BQUQsRUFBWSxpREFDaEMsR0FBR0EsTUFBTSxDQUFDLENBQUQsQ0FBTixHQUFZRixTQUFmLENBQXlCLG9EQUN2QkcsT0FBTyxDQUFDQyxHQUFSLENBQVksSUFBWixFQUR1Qix3QkFFdkJDLFNBQVMsQ0FBR0gsTUFBTSxDQUFDLENBQUQsQ0FBbEIsQ0FGdUIsd0JBR3ZCSCxHQUFHLENBQUNPLE1BQUosQ0FBVyxPQUFYLENBQW9CLENBQUNDLEtBQUssQ0FBRSx5QkFBUixDQUFtQ0MsU0FBUyxDQUFFUixTQUE5QyxDQUF5REssU0FBUyxDQUFFQSxTQUFwRSxDQUErRUksT0FBTyxDQUFFWixhQUF4RixDQUFwQixFQUNELENBSkQsaUNBS0QsQ0FORCxFQU9ELENBUkQsQ0FVQTt3QkFDQSxLQUFNYSxDQUFBQSxXQUFXLENBQUcsQ0FBQ0YsU0FBRCxDQUFZRyxZQUFaLEdBQTZCLGlEQUMvQ2QsYUFBYSxDQUFDZSxJQUFkLENBQW1CLENBQUNKLFNBQUQsQ0FBWUcsWUFBWixDQUFuQixFQUQrQyx5QkFFL0MsTUFBT2QsQ0FBQUEsYUFBUCxDQUNELENBSEQsQ0FLQTt5QkFDQSxLQUFNZ0IsQ0FBQUEsVUFBVSxDQUFJQyxTQUFELEVBQWUseUJBQ2hDLEtBQU1ULENBQUFBLFNBQVMsMkJBQUcsRUFBSCxDQUFmLENBRGdDLHlCQUVoQ1MsU0FBUyxDQUFDYixPQUFWLENBQW1CYyxJQUFELEVBQVUsa0RBQzFCLEdBQUlBLElBQUksR0FBSyxFQUFiLENBQWlCLHFEQUNqQlYsU0FBUyxDQUFDVSxJQUFELENBQVQsQ0FBa0JWLFNBQVMsQ0FBQ1UsSUFBRCxDQUFULDZCQUFrQlYsU0FBUyxDQUFDVSxJQUFELENBQVQsRUFBbUIsQ0FBckMsOEJBQXlDLENBQXpDLENBQWxCLENBQ0MsQ0FGRCxpQ0FHRCxDQUpELEVBRmdDLHlCQU9oQyxNQUFPVixDQUFBQSxTQUFQLENBQ0QsQ0FSRCxDQVVBO3lCQUNBLEtBQU1XLENBQUFBLFFBQVEsQ0FBRyxNQUFPakIsR0FBUCxDQUFZUyxTQUFaLEdBQTBCLGtEQUN4QyxLQUFNYixDQUFBQSxLQUFLLENBQUNhLFNBQUQsQ0FBTCxDQUNKUyxJQURJLENBQ0VsQixHQUFELEVBQVMsa0RBQ1gsTUFBT0EsQ0FBQUEsR0FBRyxDQUFDbUIsSUFBSixFQUFQLENBQ0gsQ0FISSxFQUdGRCxJQUhFLENBR0lFLElBQUQsRUFBVSx5QkFDZCxLQUFNQyxDQUFBQSxNQUFNLDJCQUFHRCxJQUFJLENBQUNFLE9BQUwsQ0FBYSxhQUFiLENBQTRCLEdBQTVCLENBQUgsQ0FBWixDQURjLHlCQUVkLE1BQU9ELENBQUFBLE1BQU0sQ0FBQ0UsV0FBUCxHQUFxQkMsS0FBckIsQ0FBMkIsR0FBM0IsQ0FBUCxDQUNILENBTkksRUFNRk4sSUFORSxDQU1JSCxTQUFELEVBQWUsa0RBQ25CLE1BQU9ELENBQUFBLFVBQVUsQ0FBQ0MsU0FBRCxDQUFqQixDQUNILENBUkksRUFRRkcsSUFSRSxDQVFJWixTQUFELEVBQWUsa0RBQ25CTSxZQUFZLENBQUdhLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlcEIsU0FBZixDQUFmLENBRG1CLHlCQUVuQk4sR0FBRyxDQUFDTyxNQUFKLENBQVcsT0FBWCxDQUFvQixDQUFDQyxLQUFLLENBQUUseUJBQVIsQ0FBbUNDLFNBQVMsQ0FBRUEsU0FBOUMsQ0FBeURILFNBQVMsQ0FBRU0sWUFBcEUsQ0FBa0ZGLE9BQU8sQ0FBRUMsV0FBVyxDQUFDRixTQUFELENBQVlHLFlBQVosQ0FBdEcsQ0FBcEIsRUFDSCxDQVhJLENBQU4sQ0FZRixDQWJELEMseUJBZ0JBZSxPQUFPLENBQUNWLFFBQVIsQ0FBbUJBLFFBQW5CLEMseUJBQ0FVLE9BQU8sQ0FBQ2IsVUFBUixDQUFxQkEsVUFBckIsQyx5QkFDQWEsT0FBTyxDQUFDaEIsV0FBUixDQUFzQkEsV0FBdEIsQyx5QkFDQWdCLE9BQU8sQ0FBQzVCLGNBQVIsQ0FBeUJBLGNBQXpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7XG5jb25zdCBwcmV2aW91c191cmxzID0gW11cblxuLy8gY29uc3Qgc29ydFdvcmRzID0gKHdvcmRDb3VudEFycikgPT4ge1xuLy8gIHdvcmRDb3VudEFyci5zb3J0KGZ1bmN0aW9uIENvbXBhcmF0b3IoYSwgYikge1xuLy8gICAgaWYgKGFbMV0gPCBiWzFdKSByZXR1cm4gLTE7XG4vLyAgICBpZiAoYVsxXSA+IGJbMV0pIHJldHVybiAxO1xuLy8gICAgcmV0dXJuIDA7XG4vLyAgfSk7XG4vLyB9XG5cbi8vZnVuY3Rpb24gdG8gcmV0dXJuIHdvcmQgY291bnRzIGZvciBwcmV2aW91c2x5IHNhdmVkIHVybHNcbmNvbnN0IGdldFNhdmVkUmVjb3JkID0gKHJlcywgc2F2ZWRfdXJsKSA9PiB7XG4gIHByZXZpb3VzX3VybHMuZm9yRWFjaCgocmVjb3JkKSA9PiB7XG4gICAgaWYocmVjb3JkWzBdPT09c2F2ZWRfdXJsKXtcbiAgICAgIGNvbnNvbGUubG9nKHRydWUpXG4gICAgICB3b3JkQ291bnQgPSByZWNvcmRbMV1cbiAgICAgIHJlcy5yZW5kZXIoJ2luZGV4Jywge3RpdGxlOiAnV29yZCBPY2N1cnJlbmNlIENvdW50ZXInLCBpbnB1dF91cmw6IHNhdmVkX3VybCwgd29yZENvdW50OiB3b3JkQ291bnQsIGhpc3Rvcnk6IHByZXZpb3VzX3VybHN9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBmdW5jdGlvbiB0byBzYXZlIHVybHMgaW5wdXQgYnkgdXNlciBhbmQgYXNzb2NpYXRlZCB3b3JkIGNvdW50c1xuY29uc3QgdXNlckhpc3RvcnkgPSAoaW5wdXRfdXJsLCB3b3JkQ291bnRBcnIpID0+IHtcbiAgcHJldmlvdXNfdXJscy5wdXNoKFtpbnB1dF91cmwsIHdvcmRDb3VudEFycl0pO1xuICByZXR1cm4gcHJldmlvdXNfdXJscztcbn1cblxuLy8gZnVuY3Rpb24gdG8gY291bnQgb2NjdXJyZW5jZXMgb2Ygd29yZHMgaW4gYW4gYXJyYXlcbmNvbnN0IGNvdW50V29yZHMgPSAod29yZEFycmF5KSA9PiB7XG4gIGNvbnN0IHdvcmRDb3VudCA9IHt9O1xuICB3b3JkQXJyYXkuZm9yRWFjaCgod29yZCkgPT4ge1xuICAgIGlmICh3b3JkICE9PSAnJykge1xuICAgIHdvcmRDb3VudFt3b3JkXSA9IHdvcmRDb3VudFt3b3JkXSA/IHdvcmRDb3VudFt3b3JkXSArPSAxIDogMTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gd29yZENvdW50O1xufVxuXG4vLyBmdW5jdGlvbiB0byByZXR1cm4gc3RyaW5nIGZyb20gVVJMIERPTSwgY2FsbCBjb3VudFdvcmRzIGZ1bmN0aW9uIGFuZCByZW5kZXIgcmVzdWx0cyBpbiBob21lIHBhZ2VcbmNvbnN0IGdldFdvcmRzID0gYXN5bmMgKHJlcywgaW5wdXRfdXJsKSA9PiB7XG4gICBhd2FpdCBmZXRjaChpbnB1dF91cmwpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gcmVzLnRleHQoKTtcbiAgICB9KS50aGVuKChib2R5KSA9PiB7XG4gICAgICAgIGNvbnN0IHN0cmluZyA9IGJvZHkucmVwbGFjZSgvW15hLXpBLVogXS9nLCAnICcpO1xuICAgICAgICByZXR1cm4gc3RyaW5nLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKTtcbiAgICB9KS50aGVuKCh3b3JkQXJyYXkpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvdW50V29yZHMod29yZEFycmF5KTtcbiAgICB9KS50aGVuKCh3b3JkQ291bnQpID0+IHtcbiAgICAgICAgd29yZENvdW50QXJyID0gT2JqZWN0LmVudHJpZXMod29yZENvdW50KTtcbiAgICAgICAgcmVzLnJlbmRlcignaW5kZXgnLCB7dGl0bGU6ICdXb3JkIE9jY3VycmVuY2UgQ291bnRlcicsIGlucHV0X3VybDogaW5wdXRfdXJsLCB3b3JkQ291bnQ6IHdvcmRDb3VudEFyciwgaGlzdG9yeTogdXNlckhpc3RvcnkoaW5wdXRfdXJsLCB3b3JkQ291bnRBcnIpIH0pO1xuICAgIH0pXG59XG5cblxuZXhwb3J0cy5nZXRXb3JkcyA9IGdldFdvcmRzO1xuZXhwb3J0cy5jb3VudFdvcmRzID0gY291bnRXb3JkcztcbmV4cG9ydHMudXNlckhpc3RvcnkgPSB1c2VySGlzdG9yeTtcbmV4cG9ydHMuZ2V0U2F2ZWRSZWNvcmQgPSBnZXRTYXZlZFJlY29yZDtcbiJdfQ==